{"version":3,"sources":["../../src/workflows/7_full.ts"],"sourcesContent":["import { createWebhook, sleep } from 'workflow';\n\nexport async function handleUserSignup(email: string) {\n  'use workflow';\n\n  const user = await createUser(email);\n  await sendWelcomeEmail(user);\n\n  await sleep('5s');\n\n  const webhook = createWebhook();\n  await sendOnboardingEmail(user, webhook.url);\n\n  await webhook;\n  console.log('Webhook Resolved');\n\n  return { userId: user.id, status: 'onboarded' };\n}\n\nasync function createUser(email: string) {\n  'use step';\n\n  console.log(`Creating a new user with email: ${email}`);\n\n  return { id: crypto.randomUUID(), email };\n}\n\nasync function sendWelcomeEmail(user: { id: string; email: string }) {\n  'use step';\n\n  console.log(`Sending welcome email to user: ${user.id}`);\n}\n\nasync function sendOnboardingEmail(\n  user: { id: string; email: string },\n  callback: string\n) {\n  'use step';\n\n  console.log(`Sending onboarding email to user: ${user.id}`);\n\n  console.log(`Click this link to resolve the webhook: ${callback}`);\n}\n"],"names":["handleUserSignup","email","createUser","console","log","id","crypto","randomUUID","sendWelcomeEmail","user","sendOnboardingEmail","callback"],"mappings":";;;;;+BAEsBA;;;eAAAA;;;AAAf,eAAeA,iBAAiBC,KAAa;;AAepD;;AAEA,eAAeC,WAAWD,KAAa;IAGrCE,QAAQC,GAAG,CAAC,CAAC,gCAAgC,EAAEH,OAAO;IAEtD,OAAO;QAAEI,IAAIC,OAAOC,UAAU;QAAIN;IAAM;AAC1C;AAEA,eAAeO,iBAAiBC,IAAmC;IAGjEN,QAAQC,GAAG,CAAC,CAAC,+BAA+B,EAAEK,KAAKJ,EAAE,EAAE;AACzD;AAEA,eAAeK,oBACbD,IAAmC,EACnCE,QAAgB;IAIhBR,QAAQC,GAAG,CAAC,CAAC,kCAAkC,EAAEK,KAAKJ,EAAE,EAAE;IAE1DF,QAAQC,GAAG,CAAC,CAAC,wCAAwC,EAAEO,UAAU;AACnE"}